(function(c,d){$window=c(d);c.fn.lazyload=function(b){var a={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:d,data_attribute:"original",skip_invisible:!0,appear:null,load:null};b&&(void 0!==b.failurelimit&&(b.failure_limit=b.failurelimit,delete b.failurelimit),void 0!==b.effectspeed&&(b.effect_speed=b.effectspeed,delete b.effectspeed),c.extend(a,b));var e=this;return 0==a.event.indexOf("scroll")&&c(a.container).bind(a.event,function(){var b=0;e.each(function(){$this=c(this);if((!a.skip_invisible||
$this.is(":visible"))&&!c.abovethetop(this,a)&&!c.leftofbegin(this,a))if(!c.belowthefold(this,a)&&!c.rightoffold(this,a))$this.trigger("appear");else if(++b>a.failure_limit)return!1})}),this.each(function(){var b=this,d=c(b);b.loaded=!1;d.one("appear",function(){this.loaded||(a.appear&&a.appear.call(b,e.length,a),c("<img />").bind("load",function(){d.hide().attr("src",d.data(a.data_attribute))[a.effect](a.effect_speed);b.loaded=!0;var f=c.grep(e,function(a){return!a.loaded});e=c(f);a.load&&a.load.call(b,
e.length,a)}).attr("src",d.data(a.data_attribute)))});0!=a.event.indexOf("scroll")&&d.bind(a.event,function(){b.loaded||d.trigger("appear")})}),$window.bind("resize",function(){c(a.container).trigger(a.event)}),c(a.container).trigger(a.event),this};c.belowthefold=function(b,a){return(void 0===a.container||a.container===d?$window.height()+$window.scrollTop():c(a.container).offset().top+c(a.container).height())<=c(b).offset().top-a.threshold};c.rightoffold=function(b,a){return(void 0===a.container||
a.container===d?$window.width()+$window.scrollLeft():c(a.container).offset().left+c(a.container).width())<=c(b).offset().left-a.threshold};c.abovethetop=function(b,a){return(void 0===a.container||a.container===d?$window.scrollTop():c(a.container).offset().top)>=c(b).offset().top+a.threshold+c(b).height()};c.leftofbegin=function(b,a){return(void 0===a.container||a.container===d?$window.scrollLeft():c(a.container).offset().left)>=c(b).offset().left+a.threshold+c(b).width()};c.inviewport=function(b,
a){return!c.rightofscreen(b,a)&&!c.leftofscreen(b,a)&&!c.belowthefold(b,a)&&!c.abovethetop(b,a)};c.extend(c.expr[":"],{"below-the-fold":function(b){return c.belowthefold(b,{threshold:0,container:d})},"above-the-top":function(b){return!c.belowthefold(b,{threshold:0,container:d})},"right-of-screen":function(b){return c.rightoffold(b,{threshold:0,container:d})},"left-of-screen":function(b){return!c.rightoffold(b,{threshold:0,container:d})},"in-viewport":function(b){return!c.inviewport(b,{threshold:0,
container:d})},"above-the-fold":function(b){return!c.belowthefold(b,{threshold:0,container:d})},"right-of-fold":function(b){return c.rightoffold(b,{threshold:0,container:d})},"left-of-fold":function(b){return!c.rightoffold(b,{threshold:0,container:d})}})})(jQuery,window);
